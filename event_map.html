<!DOCTYPE html>
<html>
<head>
    <title>Event Map - Polished</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Leaflet CSS & JS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    
    <!-- Fullscreen plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.css" />
    <script src="https://unpkg.com/leaflet.fullscreen@1.6.0/Control.FullScreen.js"></script>
    
    <!-- MarkerCluster plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>

    <style>
        #map { height: 600px; width: 100%; }
        .popup-image { max-width: 100px; height: auto; margin-bottom: 5px; }
        #legend {
            position: absolute;
            bottom: 10px;
            left: 10px;
            background: rgba(255,255,255,0.9);
            padding: 10px;
            font-size: 13px;
            z-index: 1000;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <h1>Events in the World</h1>
    <div id="map"></div>
    <div id="legend">
        <b>Event Types</b><br>
        <img src="./MilitaryIcon.png" width="20" /> Military<br>
        <img src="./ProtestIcon.png" width="20" /> Protest<br>
        <img src="./TerrorismIcon.png" width="20" /> Terrorism<br>
        <img src="./DisasterIcon.png" width="20" /> Disaster/Accident<br>
        <img src="./NDIcon.png" width="20" /> Natural Disaster<br>
        <img src="./HumanitarianCrisisIcon.png" width="20" /> Humanitarian<br>
    </div>

    <script>
        var map = L.map('map', {
            fullscreenControl: true
        }).setView([20, 0], 2);

        L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);

        var markers = L.markerClusterGroup();

        function createIcon(url) {
            return L.icon({
                iconUrl: './' + url,
                iconSize: [40, 40],
                iconAnchor: [20, 20],
                popupAnchor: [0, -10]
            });
        }

        var icons = {
            "military": createIcon("MilitaryIcon.png"),
            "protest/unrest": createIcon("ProtestIcon.png"),
            "terrorism": createIcon("TerrorismIcon.png"),
            "disaster": createIcon("DisasterIcon.png"),
            "accident": createIcon("DisasterIcon.png"),
            "explosion": createIcon("ExplosionIcon.png"),
            "natural disaster": createIcon("NDIcon.png"),
            "humanitarian crisis": createIcon("HumanitarianCrisisIcon.png"),
            "piracy": createIcon("PiracyIcon.png"),
            "cyber crime": createIcon("CyberCrimeIcon.png"),
            "assassination": createIcon("AssassinationIcon.png"),
            "unknown": createIcon("UnknownIcon.png"),
            "violent": createIcon("UnknownIcon.png"),
            "news": createIcon("UnknownIcon.png"),
            "law enforcement": createIcon("Police.png")
        };

        // Placeholder: Add markers here, e.g.:
        // var marker = L.marker([lat, lng], {icon: icons["military"]}).bindPopup("Info...");
        // markers.addLayer(marker);

                var marker =  null;
    
               marker = L.marker([30.04743, -99.14032], {icon: icons["natural disaster"]}).bindPopup("<a href='https://www.smh.com.au/world/north-america/thirteen-dead-at-least-20-children-missing-from-summer-camp-in-texas-flash-floods-20250705-p5mcov.html?ref=rss&utm_medium=rss&utm_source=rss_world'  target='_blank'> <b>Thirteen dead&#44; at least 20 children missing from summer camp in Texas flash floods</b></a><br>Kerrville (USA) <br>death toll: 13<br> <img src='https://static.ffx.io/images/$zoom_0.3586%2C$multiply_0.7554%2C$ratio_1.777778%2C$width_1059%2C$x_20%2C$y_0/t_crop_custom/q_86%2Cf_auto/t_smh_no_label_no_age_social_wm/da3062115fe8925ace3af697c9ab1c0f4e6f6063' class='popup-image' alt='Event Image'><br> <br> ...A man surveys damage left by a raging Guadalupe River on Friday in Kerrville&#44; Texas. <br><small>Published: 2025/7/4 21:36</small>");
               markers.addLayer(marker);
               
               marker = L.marker([24.8608, 67.0104], {icon: icons["accident"]}).bindPopup("<a href='https://www.aljazeera.com/news/2025/7/4/several-people-killed-in-multistorey-building-collapse-in-pakistan?traffic_source=rss'  target='_blank'> <b>Several people killed in multistorey building collapse in Pakistan</b></a><br>Karachi (PAK) <br>death toll: 8<br> <img src='https://www.aljazeera.com/wp-content/uploads/2025/07/AFP__20250704__64TZ8T7__v1__HighRes__PakistanAccidentBuilding-1751660865.jpg?resize=1920%2C1440' class='popup-image' alt='Event Image'><br> <br> ...The incident occurred on Friday&#44; shortly after 10am (05:00 GMT) in the impoverished Lyari neighbourhood of Karachi&#44; which was once plagued by gang violence. <br><small>Published: 2025/7/4 20:58</small>");
               markers.addLayer(marker);
               
               marker = L.marker([48.023, 37.80224], {icon: icons["military"]}).bindPopup("<a href='https://www.rt.com/russia/621020-civilians-killed-ukrainian-strike-donetsk/?utm_source=rss&utm_medium=rss&utm_campaign=RSS'  target='_blank'> <b>Civilians killed in strikes on Donetsk with US-made weapons (VIDEO)</b></a><br>Donetsk (UKR) <br>death toll: 4<br> <img src='https://mf.b37mrtl.ru/files/2025.07/article/6868427120302740576289b6.png' class='popup-image' alt='Event Image'><br> <br> ...Ukrainian forces used a  multiple rocket launcher in the attack&#44; according to the Russian authorities  The Ukrainian military struck the city of Donetsk with a US-made HIMARS multiple rocket launcher on Friday&#44; killing at least four civilians and injuring four more&#44; according to the head of the Donetsk People’s Republic (DPR)&#44; Denis Pushilin. <br><small>Published: 2025/7/4 21:24</small>");
               markers.addLayer(marker);
               marker = L.marker([38.89511, -77.03637]).bindPopup( "<a href='https://www.indiatoday.in/world/us-news/story/us-court-temporarily-blocks-deportation-of-8-south-sudan-migrants-glbs-2751065-2025-07-05?utm_source=rss' target='_blank'> <b>US court temporarily blocks deportation of 8 South Sudan migrants</b></a><br> <img src='https://akm-img-a-in.tosshub.com/indiatoday/images/story/202507/us-flag-and-judge-gavel-are-seen-in-this-illustration-043340716-16x9_0.png?VersionId=rgMef.qbJD3_ZpOPKie1SbKoXlkNHy0n' class='popup-image' alt='Event Image'><br> Washington (USA)<br>...US District Judge Randolph Moss in Washington made the ruling at an emergency hearing on July 4&#44; when courts are otherwise closed for the Independence Day holiday.<br><small>Published: 2025/7/4 21:34</small>" );
            markers.addLayer(marker);
            marker = L.marker([33.9164, -118.35257]).bindPopup( "<a href='https://abcnews.go.com/US/clock-ticks-judge-pauses-removal-8-migrants-detained/story?id=123488635' target='_blank'> <b>As clock ticks down&#44; judge pauses removal of 8 migrants detained in Djibouti</b></a><br> <img src='https://s.abcnews.com/images/Politics/ice-2-rt-er-210930_1633039288656_hpMain_16x9_992.jpg?w=1600' class='popup-image' alt='Event Image'><br> Hawthorne (USA)<br>...The badge of ICE Field Office Director&#44; Enforcement and Removal Operations&#44; David Marin and U.S. Immigration and Customs Enforcement&#39;s (ICE) Fugitive Operations team search for a Mexican national at a home in Hawthorne&#44; Calif.&#44; March 1&#44; 2020.<br><small>Published: 2025/7/4 21:43</small>" );
            markers.addLayer(marker);
            marker = L.marker([41.14454, -8.53223]).bindPopup( "<a href='https://www.bbc.com/news/articles/c8xvr9v1exlo' target='_blank'> <b>Jota mourned by crowds in Liverpool and Portuguese hometown</b></a><br> <img src='https://ichef.bbci.co.uk/news/1024/branded_news/3a3a/live/a7260380-58fa-11f0-8b18-17952be0e8b0.jpg' class='popup-image' alt='Event Image'><br> Gondomar (PRT)<br>...Portugal&#39;s president&#44; stars from the national team and fans from across the country gathered in the small town of Gondomar&#44; on the outskirts of Porto&#44; where the pair grew up.<br><small>Published: 2025/7/4 21:14</small>" );
            markers.addLayer(marker);
            marker = L.marker([41.14961, -8.61099]).bindPopup( "<a href='https://www.bbc.com/news/articles/c8xvr9v1exlo' target='_blank'> <b>Jota mourned by crowds in Liverpool and Portuguese hometown</b></a><br> <img src='https://ichef.bbci.co.uk/news/1024/branded_news/3a3a/live/a7260380-58fa-11f0-8b18-17952be0e8b0.jpg' class='popup-image' alt='Event Image'><br> Porto (PRT)<br>...Portugal&#39;s president&#44; stars from the national team and fans from across the country gathered in the small town of Gondomar&#44; on the outskirts of Porto&#44; where the pair grew up.<br><small>Published: 2025/7/4 21:14</small>" );
            markers.addLayer(marker);
            marker = L.marker([25.77427, -80.19366]).bindPopup( "<a href='https://timesofindia.indiatimes.com/world/us/criminalized-for-being-stateless-newlywed-held-by-ice-for-140-days-says-was-denied-basic-rights-officials-defend-detention/articleshow/122257661.cms' target='_blank'> <b>‘Criminalized for being stateless’: Newlywed held by ICE for 140 days says was denied basic rights; officials defend detention</b></a><br> <img src='https://static.toiimg.com/thumb/msid-122257700,width-1070,height-580,imgsize-748287,resizemode-75,overlay-toi_sw,pt-32,y_pad-40/photo.jpg' class='popup-image' alt='Event Image'><br> Miami (USA)<br>...Ward Sakeik ()      A newlywed bride from Texas&#44; who was released from immigration and customs enforcement () custody on Thursday&#44; said she was treated like &quot;cattle&quot; during her time in detention.Ward Sakeik&#44; a 22-year-old stateless Palestinian woman married to a US citizen&#44; spoke publicly for the first time since being detained at a Miami airport in February.<br><small>Published: 2025/7/4 21:50</small>" );
            markers.addLayer(marker);
            
    map.addLayer(markers);
    </script>
</body>
</html>
